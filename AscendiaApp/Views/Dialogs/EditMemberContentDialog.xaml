<ContentDialog x:Class="AscendiaApp.Views.Dialogs.EditMemberContentDialog"
               xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
               xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
               xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
               xmlns:lctworks="using:LCTWorks.WinUI.Controls"
               xmlns:local="using:AscendiaApp.Views.Dialogs"
               xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
               xmlns:tkc="using:CommunityToolkit.WinUI.Controls"
               Style="{StaticResource DefaultContentDialogStyle}"
               mc:Ignorable="d">
    <ContentDialog.Resources>
        <Thickness x:Key="ContentDialogPadding">0</Thickness>
        <x:Double x:Key="ContentDialogMaxWidth">480</x:Double>
        <x:Double x:Key="ContentDialogMaxHeight">620</x:Double>
    </ContentDialog.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <StackPanel Margin="24,32,24,8"
                    Orientation="Vertical"
                    Spacing="8">
            <TextBlock x:Uid="Members-NewTitleBlock"
                       HorizontalAlignment="Center"
                       Style="{ThemeResource SmoothTitleTextBlockStyle}"
                       TextAlignment="Center"
                       TextWrapping="WrapWholeWords"
                       Visibility="{x:Bind ViewModel.IsNew, Mode=OneWay}" />
            <TextBlock x:Uid="Members-EditTitleBlock"
                       HorizontalAlignment="Center"
                       Style="{ThemeResource SmoothTitleTextBlockStyle}"
                       TextAlignment="Center"
                       TextWrapping="WrapWholeWords"
                       Visibility="{x:Bind ViewModel.IsEditing, Mode=OneWay}" />

            <Rectangle Height="2"
                       Fill="{ThemeResource SystemChromeGrayColor}"
                       Opacity=".2" />

            <tkc:Segmented Margin="0,8"
                           HorizontalAlignment="Stretch"
                           SelectedIndex="{x:Bind ViewModel.HeaderSelectedIndex, Mode=TwoWay}">
                <tkc:SegmentedItem Content="Perfil" />
                <tkc:SegmentedItem Content="Social" />
            </tkc:Segmented>
        </StackPanel>
        <ScrollViewer Grid.Row="1"
                      Padding="24,0,24,24"
                      HorizontalScrollBarVisibility="Disabled"
                      HorizontalScrollMode="Disabled"
                      IsVerticalScrollChainingEnabled="False"
                      Visibility="{x:Bind ViewModel.IsProfileTabSelected, Mode=OneWay}">
            <StackPanel Orientation="Vertical"
                        Spacing="8">
                <NumberBox x:Uid="Members-AddIdBox"
                           AcceptsExpression="False"
                           IsEnabled="{x:Bind ViewModel.IsNew, Mode=OneWay}"
                           Visibility="{x:Bind ViewModel.IsNew, Mode=OneWay}"
                           Value="{x:Bind ViewModel.Id, Mode=TwoWay}" />
                <TextBox x:Uid="Members-AddNameBox"
                         Text="{x:Bind ViewModel.Name, Mode=TwoWay}" />
                <Grid ColumnSpacing="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBox x:Uid="Members-AddTeamBox"
                             Text="{x:Bind ViewModel.Team, Mode=TwoWay}" />
                    <CheckBox x:Uid="Members-IsCaptain"
                              Grid.Column="1"
                              VerticalAlignment="Bottom"
                              IsChecked="{x:Bind ViewModel.IsCaptain, Mode=TwoWay}" />
                </Grid>

                <tkc:HeaderedContentControl x:Uid="Members-PositionsHeader"
                                            HorizontalContentAlignment="Stretch"
                                            VerticalContentAlignment="Stretch">
                    <tkc:Segmented Margin="0,8"
                                   HorizontalAlignment="Stretch"
                                   SelectedItem="{x:Bind ViewModel.Position, Mode=TwoWay}">
                        <x:String>1</x:String>
                        <x:String>2</x:String>
                        <x:String>3</x:String>
                        <x:String>4</x:String>
                        <x:String>5</x:String>
                    </tkc:Segmented>
                </tkc:HeaderedContentControl>

                <TextBox x:Uid="Members-AddCountryBox"
                         Text="{x:Bind ViewModel.Country, Mode=TwoWay}" />

                <TextBox x:Uid="Members-AddNotesBox"
                         Height="120"
                         AcceptsReturn="True"
                         MaxLength="2048"
                         Text="{x:Bind ViewModel.Notes, Mode=TwoWay}" />

                <Rectangle Width="Auto"
                           Height="1"
                           Margin="0,8"
                           Fill="{StaticResource AppColor4}"
                           Visibility="{x:Bind ViewModel.IsNew, Mode=OneWay}" />
                <ToggleSwitch x:Name="UpdateLadderSwitch"
                              x:Uid="Members-CheckLadder"
                              IsOn="{x:Bind ViewModel.CheckLadder, Mode=TwoWay}"
                              Visibility="{x:Bind ViewModel.IsNew, Mode=OneWay}" />
                <CheckBox x:Uid="Members-UpdatePlayer"
                          IsChecked="{x:Bind ViewModel.UpdateBeforeChecking, Mode=TwoWay}"
                          IsEnabled="{x:Bind UpdateLadderSwitch.IsOn, Mode=OneWay}"
                          Visibility="{x:Bind ViewModel.IsNew, Mode=OneWay}" />
                <CheckBox x:Uid="Members-CheckWinLose"
                          IsChecked="{x:Bind ViewModel.CheckWinLose, Mode=TwoWay}"
                          IsEnabled="{x:Bind UpdateLadderSwitch.IsOn, Mode=OneWay}"
                          Visibility="{x:Bind ViewModel.IsNew, Mode=OneWay}" />
            </StackPanel>
        </ScrollViewer>
        <ScrollViewer Grid.Row="1"
                      Padding="24,0,24,24"
                      HorizontalScrollBarVisibility="Disabled"
                      HorizontalScrollMode="Disabled"
                      IsVerticalScrollChainingEnabled="False"
                      Visibility="{x:Bind ViewModel.IsSocialTabSelected, Mode=OneWay}">
            <Grid ColumnSpacing="16"
                  RowSpacing="4">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <TextBox x:Uid="Members-AddPhoneBox"
                         Text="{x:Bind ViewModel.Phone, Mode=TwoWay}" />
                <TextBox x:Uid="Members-AddEmailBox"
                         Grid.Row="1"
                         Text="{x:Bind ViewModel.EMail, Mode=TwoWay}" />
                <TextBox x:Uid="Members-AddFacebookBox"
                         Grid.Row="2"
                         Text="{x:Bind ViewModel.SocialFacebook, Mode=TwoWay}" />
                <TextBox x:Uid="Members-AddInstagramBox"
                         Grid.Row="3"
                         Text="{x:Bind ViewModel.SocialInstagram, Mode=TwoWay}" />
                <TextBox x:Uid="Members-AddXBox"
                         Grid.Row="4"
                         Text="{x:Bind ViewModel.SocialX, Mode=TwoWay}" />
                <TextBox x:Uid="Members-AddTikTokBox"
                         Grid.Row="5"
                         Text="{x:Bind ViewModel.SocialTikTok, Mode=TwoWay}" />
                <TextBox x:Uid="Members-AddTwitchBox"
                         Grid.Row="6"
                         Text="{x:Bind ViewModel.SocialTwitch, Mode=TwoWay}" />
                <TextBox x:Uid="Members-AddYouTubeBox"
                         Grid.Row="7"
                         Text="{x:Bind ViewModel.SocialYouTube, Mode=TwoWay}" />
            </Grid>
        </ScrollViewer>

        <Rectangle Grid.Row="2"
                   Height="2"
                   Margin="24,0"
                   Fill="{ThemeResource SystemChromeGrayColor}"
                   Opacity=".2" />
        <Grid Grid.Row="3"
              Margin="16,32"
              HorizontalAlignment="Stretch"
              ColumnSpacing="16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Button x:Uid="Dialog-OkButton"
                    MinWidth="120"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Center"
                    Command="{x:Bind ViewModel.StartAddingCommand, Mode=OneWay}"
                    Style="{StaticResource AccentButtonStyle}" />
            <Button x:Uid="Dialog-CancelButton"
                    Grid.Column="1"
                    MinWidth="120"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Center"
                    VerticalContentAlignment="Center"
                    Command="{x:Bind ViewModel.CancelCommand, Mode=OneWay}" />
        </Grid>

        <Grid Grid.RowSpan="3"
              Background="{ThemeResource ContentDialogBackground}"
              CornerRadius="{ThemeResource OverlayCornerRadius}"
              Visibility="{x:Bind ViewModel.IsNotifying, Mode=OneWay}">
            <StackPanel HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Orientation="Vertical"
                        Spacing="12"
                        Visibility="{x:Bind ViewModel.IsBusy, Mode=OneWay}">
                <ProgressRing />
                <TextBlock Text="{x:Bind ViewModel.ProgressNotificationMessage, Mode=OneWay}" />
            </StackPanel>
            <Grid HorizontalAlignment="Center"
                  VerticalAlignment="Stretch"
                  Visibility="{x:Bind ViewModel.IsFinished, Mode=OneWay}">
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <StackPanel Margin="0,32"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Bottom"
                            Orientation="Vertical"
                            Spacing="12"
                            Visibility="{x:Bind ViewModel.IsSuccess, Mode=OneWay}">
                    <TextBlock HorizontalAlignment="Center"
                               FontFamily="{StaticResource MaterialSymbolsFontFamily}"
                               FontSize="32"
                               Foreground="{StaticResource SuccessColor}"
                               Text="check_circle" />
                    <TextBlock x:Uid="AddMember-SuccessBox"
                               MaxWidth="200"
                               Style="{StaticResource SmoothSubtitleTextBlockStyle}"
                               TextAlignment="Center"
                               TextWrapping="WrapWholeWords" />
                    <Button x:Uid="Dialog-Ok2Button"
                            Grid.Row="1"
                            MinWidth="120"
                            Margin="0,32"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Top"
                            Command="{x:Bind ViewModel.AcceptFinishedCommand}"
                            Style="{StaticResource AccentButtonStyle}" />
                </StackPanel>
                <StackPanel HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Orientation="Vertical"
                            Spacing="12"
                            Visibility="{x:Bind ViewModel.IsFailure, Mode=OneWay}">
                    <TextBlock HorizontalAlignment="Center"
                               FontFamily="{StaticResource MaterialSymbolsFontFamily}"
                               FontSize="32"
                               Foreground="{StaticResource ErrorColor}"
                               Text="brightness_alert" />
                    <TextBlock MaxWidth="200"
                               HorizontalAlignment="Center"
                               Style="{StaticResource SmoothSubtitleTextBlockStyle}"
                               Text="{x:Bind ViewModel.ErrorMessage, Mode=OneWay}"
                               TextAlignment="Center"
                               TextWrapping="WrapWholeWords" />
                    <Button x:Uid="Dialog-Ok2Button"
                            Grid.Row="1"
                            MinWidth="120"
                            Margin="0,32"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Top"
                            Command="{x:Bind ViewModel.AcceptFinishedCommand}"
                            Style="{StaticResource AccentButtonStyle}" />
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</ContentDialog>